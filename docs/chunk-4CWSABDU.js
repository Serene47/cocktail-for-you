import{a as Y}from"./chunk-GGNGYQQ5.js";import{a as J,b as Q,c as W}from"./chunk-N7VHMBY3.js";import{c as L,e as O,f as q}from"./chunk-2LEE3OVX.js";import{A as k,B as g,C as j,D as R,E as p,F as d,H as V,I as z,J as G,O as h,a as b,b as I,c as F,d as w,e as y,f as C,g as D,h as H,i as K,j as a,k as v,l as s,m as l,n as N,p as m,q as U,r as E,s as P,t as n,u as r,v as _,w as B,x as $,y as f,z as c}from"./chunk-XDA6K6GO.js";var x=class e{cocktailDataService=C(Q);cocktailAdapterService=C(J);cocktailListError=new b;cocktailListError$=this.cocktailListError.asObservable();cocktailListLoading=new I(!1);cocktailListLoading$=this.cocktailListLoading.asObservable();processedCocktailList=new b;alcoholFilter=new I("");filteredCocktails$=w([this.processedCocktailList,this.alcoholFilter]).pipe(F(([i,t])=>t?i.filter(o=>o.alcoholicStatus===t):i));fetchAllCockTails(i=""){this.cocktailListLoading.next(!0),this.cocktailListError.next(null),this.cocktailDataService.getAll(i).subscribe({next:t=>{if(this.cocktailListLoading.next(!1),!t.drinks){this.cocktailListError.next(O);return}if(typeof t.drinks=="string"){this.cocktailListError.next(O);return}let o=t.drinks.map(u=>this.cocktailAdapterService.transformDTOToSummary(u));this.processedCocktailList.next(o)},error:()=>{this.cocktailListLoading.next(!1),this.cocktailListError.next(O)}})}updateAlcoholFilter(i){this.alcoholFilter.next(i)}resetState(){this.updateAlcoholFilter("")}static \u0275fac=function(t){return new(t||e)};static \u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"})};var T=class e{alcoholicStatusDropdown=[{label:"No Preference",value:""},{label:"Alcoholic",value:L.ALCOHOLIC},{label:"Non alcoholic",value:L.NON_ALCOHOLIC}];static \u0275fac=function(t){return new(t||e)};static \u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"})};var tt=(e,i)=>[e,i];function et(e,i){if(e&1&&(n(0,"span",5),c(1),p(2,"uppercase"),r()),e&2){let t=f();N("summary-card__status--alcoholic",t.cocktail.alcoholicStatus===t.COCKTAIL_ALCOHOL_STATUS.ALCOHOLIC)("summary-card__status--non-alcoholic",t.cocktail.alcoholicStatus===t.COCKTAIL_ALCOHOL_STATUS.NON_ALCOHOLIC),a(),g(" ",d(2,5,t.cocktail.alcoholicStatus)," ")}}var A=class e{APP_ROUTES=Y;COCKTAIL_ALCOHOL_STATUS=L;cocktail;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=v({type:e,selectors:[["app-cocktail-summary"]],inputs:{cocktail:"cocktail"},decls:7,vars:9,consts:[[1,"summary-card",3,"routerLink"],[1,"summary-card__status",3,"summary-card__status--alcoholic","summary-card__status--non-alcoholic"],["loading","lazy",1,"summary-card__image",3,"src","alt"],[1,"summary-card__title"],[1,"summary-card__attribute"],[1,"summary-card__status"]],template:function(t,o){t&1&&(n(0,"a",0),s(1,et,3,7,"span",1),_(2,"img",2),n(3,"h4",3),c(4),r(),n(5,"span",4),c(6),r()()),t&2&&(l("routerLink",R(6,tt,o.APP_ROUTES.COCKTAIL_DETAILS,o.cocktail.id)),a(),m(o.cocktail.alcoholicStatus?1:-1),a(),l("src",o.cocktail.thumbnail,K)("alt",o.cocktail.name),a(2),k(o.cocktail.name),a(2),g("Category : ",o.cocktail.category,""))},dependencies:[h,G],styles:[".summary-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1.25rem;text-decoration:none;color:#212121;background-color:beige;border:1px solid #CD7F32;border-radius:.25rem}.summary-card[_ngcontent-%COMP%]:hover, .summary-card[_ngcontent-%COMP%]:active{outline:1px solid #8B0000;outline-offset:2px}.summary-card__status[_ngcontent-%COMP%]{align-self:flex-end;display:inline-block;padding:.25rem .5rem;font-size:.75rem;font-weight:700;color:#f4f4f4;border-radius:.25rem}.summary-card__status--alcoholic[_ngcontent-%COMP%]{background-color:#708adb}.summary-card__status--non-alcoholic[_ngcontent-%COMP%]{background-color:#3eb489}.summary-card__image[_ngcontent-%COMP%]{width:100%;aspect-ratio:1;vertical-align:bottom}.summary-card__image[_ngcontent-%COMP%]:hover, .summary-card__image[_ngcontent-%COMP%]:active{outline:none}.summary-card__title[_ngcontent-%COMP%]{color:#8b0000}"]})};var it=()=>["../../"],ot=(e,i)=>i.id;function at(e,i){if(e&1&&(n(0,"option",8),c(1),r()),e&2){let t=i.$implicit;l("value",t.value),a(),k(t.label)}}function nt(e,i){if(e&1&&_(0,"app-cocktail-summary",10),e&2){let t=i.$implicit;l("cocktail",t)}}function rt(e,i){if(e&1&&(n(0,"p",2),c(1),r()),e&2){let t=f(2);a(),k(t.COCKTAIL_LIST_EMPTY_MESSAGE)}}function ct(e,i){if(e&1){let t=B();n(0,"h4"),c(1),p(2,"titlecase"),r(),_(3,"br"),n(4,"form",4)(5,"div",5)(6,"label",6),c(7,"Alcoholic status"),r(),n(8,"select",7),$("change",function(u){D(t);let S=f();return H(S.onAlcoholFilterChange(u))}),E(9,at,2,2,"option",8,U),r()()(),n(11,"div",9),E(12,nt,1,1,"app-cocktail-summary",10,ot),r(),s(14,rt,2,1,"p",2)}if(e&2){let t=i,o=f();a(),g("Here are your results for ",d(2,2,o.type)," !"),a(8),P(o.dropdownFacadeService.alcoholicStatusDropdown),a(3),P(t),a(2),m(t.length?-1:14)}}function lt(e,i){e&1&&(n(0,"p",2),c(1),r()),e&2&&(a(),k(i))}function st(e,i){e&1&&_(0,"app-loader",3),e&2&&l("extraVerticalMargin",64)}var X=class e{dropdownFacadeService=C(T);cocktailFacadeService=C(x);COCKTAIL_LIST_EMPTY_MESSAGE=q;type="";ngOnInit(){this.cocktailFacadeService.fetchAllCockTails(this.type)}onAlcoholFilterChange(i){i.target&&i.target instanceof HTMLSelectElement&&this.cocktailFacadeService.updateAlcoholFilter(i.target.value)}ngOnDestroy(){this.cocktailFacadeService.resetState()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=v({type:e,selectors:[["app-cocktail-list"]],inputs:{type:"type"},decls:9,vars:11,consts:[[1,"navigation"],[1,"navigation__item","button","button-link","button-outline",3,"routerLink"],[1,"excuse-text"],[3,"extraVerticalMargin"],["novalidate","",1,"filters"],[1,"form-group"],["for","alcoholic-status",1,"form-label"],["name","alcoholic-status","id","alcoholic-status",1,"form-select",3,"change"],[3,"value"],[1,"cocktail-grid"],[3,"cocktail"]],template:function(t,o){if(t&1&&(n(0,"div",0)(1,"a",1),c(2,"Back"),r()(),s(3,ct,15,4),p(4,"async"),s(5,lt,2,1,"p",2),p(6,"async"),s(7,st,1,1,"app-loader",3),p(8,"async")),t&2){let u,S;a(),l("routerLink",j(10,it)),a(2),m((u=d(4,4,o.cocktailFacadeService.filteredCocktails$))?3:-1,u),a(2),m((S=d(6,6,o.cocktailFacadeService.cocktailListError$))?5:-1,S),a(2),m(d(8,8,o.cocktailFacadeService.cocktailListLoading$)?7:-1)}},dependencies:[V,z,A,W,h],styles:[".navigation[_ngcontent-%COMP%]{margin:1rem 0}.cocktail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1.5rem}@media (min-width: 600px){.cocktail-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 992px){.cocktail-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.filters[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1fr);gap:1rem;padding:1rem;margin-bottom:1rem;background-color:#f4f4f4;border-radius:.25rem}@media (min-width: 600px){.filters[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 992px){.filters[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.excuse-text[_ngcontent-%COMP%]{margin:2rem 0;font-size:1.25rem;text-align:center;color:#aaa}"]})};export{X as CocktailListComponent};
